<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="EasyCompliance - Proposta de Parceria Societ√°ria e Roadmap de Desenvolvimento">
    <title>EasyCompliance - Proposta de Parceria</title>

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React e ReactDOM via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel Standalone para transpilar JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons via CDN -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <!-- html2pdf.js para exporta√ß√£o PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        #root {
            min-height: 100vh;
        }

        /* Anima√ß√µes suaves */
        * {
            transition-property: background-color, border-color, color, fill, stroke;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
        }

        /* Scrollbar customizado */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Loading spinner */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-size: 1.5rem;
            color: #3b82f6;
        }

        /* Anima√ß√£o de rota√ß√£o para loading icon */
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">Carregando EasyCompliance...</div>
    </div>

    <!-- Script React Component -->
    <script type="text/babel" data-type="module">
        const { useState, useEffect } = React;

        // Componente de √≠cone (wrapper para Lucide)
        const Icon = ({ name, ...props }) => {
            useEffect(() => {
                lucide.createIcons();
            });
            return React.createElement('i', { 'data-lucide': name, ...props });
        };

        const IntegratedProposalRoadmap = () => {
            const [currentView, setCurrentView] = useState('proposals');
            const [selectedProposal, setSelectedProposal] = useState(3);
            const [expandedSprint, setExpandedSprint] = useState(null);
            const [isExporting, setIsExporting] = useState(false);

            useEffect(() => {
                lucide.createIcons();
            }, [currentView, expandedSprint]);

            // Fun√ß√£o para exportar PDF
            const handleExportPDF = async () => {
                setIsExporting(true);

                try {
                    const element = document.getElementById('content-to-export');
                    const options = {
                        margin: [10, 10, 10, 10],
                        filename: `EasyCompliance_Proposta_${selectedProposalData.name.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.pdf`,
                        image: { type: 'jpeg', quality: 0.98 },
                        html2canvas: {
                            scale: 2,
                            useCORS: true,
                            logging: false
                        },
                        jsPDF: {
                            unit: 'mm',
                            format: 'a4',
                            orientation: 'portrait'
                        }
                    };

                    await html2pdf().set(options).from(element).save();
                    alert('PDF exportado com sucesso!');
                } catch (error) {
                    console.error('Erro ao exportar PDF:', error);
                    alert('Erro ao exportar PDF. Tente novamente.');
                } finally {
                    setIsExporting(false);
                }
            };

            const proposals = [
                {
                    id: 1,
                    name: 'Investimento Completo',
                    investment: 'R$ 85.000',
                    investmentNum: 85000,
                    equityConsultant: '78%',
                    equityDev: '22%',
                    monthlyAvg: 'R$ 7.083',
                    downPayment: 'R$ 7.500',
                    upsideConsultant: 'R$ 14.04M',
                    upsideDev: 'R$ 3.96M',
                    devROI: '12x',
                    phase1: 'R$ 25.000',
                    phase2: 'R$ 32.500',
                    phase3: 'R$ 27.500',
                    bestFor: [
                        'Voc√™ tem R$ 85k dispon√≠vel sem comprometer fluxo',
                        'Quer manter controle majorit√°rio (78%)',
                        'Desenvolvimento mais r√°pido',
                        'Risco moderado para ambos'
                    ],
                    pros: [
                        'Maior fluxo de caixa para desenvolvimento',
                        'Desenvolvimento acelerado',
                        'Controle confort√°vel (78%)'
                    ],
                    cons: [
                        'Investimento mais alto (R$ 85k)',
                        'CTO com menor participa√ß√£o (22%)'
                    ],
                    color: 'blue',
                    recommended: false
                },
                {
                    id: 3,
                    name: 'Ponto de Equil√≠brio',
                    investment: 'R$ 60.000',
                    investmentNum: 60000,
                    equityConsultant: '60%',
                    equityDev: '40%',
                    monthlyAvg: 'R$ 5.000',
                    downPayment: 'R$ 6.000',
                    upsideConsultant: 'R$ 10.80M',
                    upsideDev: 'R$ 7.20M',
                    devROI: '23x',
                    phase1: 'R$ 20.000',
                    phase2: 'R$ 22.500',
                    phase3: 'R$ 17.500',
                    bestFor: [
                        'Investimento vi√°vel e equilibrado',
                        'Parceria REAL entre cofundadores (60/40)',
                        'CTO com participa√ß√£o significativa',
                        'Risco compartilhado de forma justa'
                    ],
                    pros: [
                        'Melhor equil√≠brio risco/recompensa',
                        'Investimento gerenci√°vel (R$ 5k/m√™s)',
                        'CTO motivado com 40% equity',
                        'Parceria de longo prazo sustent√°vel'
                    ],
                    cons: [
                        'Nenhum significativo - √© o ponto ideal!'
                    ],
                    color: 'green',
                    recommended: true
                },
                {
                    id: 2,
                    name: 'Investimento Reduzido',
                    investment: 'R$ 40.000',
                    investmentNum: 40000,
                    equityConsultant: '55%',
                    equityDev: '45%',
                    monthlyAvg: 'R$ 3.333',
                    downPayment: 'R$ 5.000',
                    upsideConsultant: 'R$ 9.90M',
                    upsideDev: 'R$ 8.10M',
                    devROI: '26x',
                    phase1: 'R$ 15.000',
                    phase2: 'R$ 15.000',
                    phase3: 'R$ 10.000',
                    bestFor: [
                        'Fluxo de caixa mais apertado',
                        'Alta convic√ß√£o no sucesso do neg√≥cio',
                        'Quase-cofundadores (55/45)',
                        'Menor investimento poss√≠vel'
                    ],
                    pros: [
                        'Investimento minimizado (R$ 40k)',
                        'CTO com quase metade da empresa (45%)',
                        'Voc√™ mant√©m controle (55%)',
                        'Parcelas muito acess√≠veis'
                    ],
                    cons: [
                        'Menor fluxo de caixa no desenvolvimento',
                        'Maior risco para o CTO',
                        'Equities muito pr√≥ximas (poss√≠veis conflitos)'
                    ],
                    color: 'purple',
                    recommended: false
                }
            ];

            const phases = [
                {
                    id: 1,
                    name: 'FASE 1 - MVP',
                    duration: '4 meses (16 semanas)',
                    objective: 'Validar product-market fit com sistema funcional',
                    color: 'blue',
                    sprints: [
                        {
                            id: 1,
                            name: 'Sprint 1-2: Setup & Funda√ß√£o',
                            weeks: 'Semanas 1-4',
                            deliverables: [
                                'Arquitetura cloud-native definida (AWS/Google Cloud)',
                                'Reposit√≥rios Git configurados (monorepo)',
                                'CI/CD pipeline completo (GitHub Actions)',
                                'Ambientes: Development, Staging, Production',
                                'Design System completo no Figma (30+ componentes)',
                                'Prot√≥tipos de alta fidelidade validados',
                                'Database schema inicial (PostgreSQL)',
                                'Autentica√ß√£o e autoriza√ß√£o (JWT + RBAC)',
                                'Infraestrutura como c√≥digo (Terraform/Pulumi)'
                            ],
                            techStack: ['Next.js 14', 'NestJS', 'PostgreSQL', 'Redis', 'AWS/GCP']
                        },
                        {
                            id: 2,
                            name: 'Sprint 3-4: Core Multi-Tenant',
                            weeks: 'Semanas 5-8',
                            deliverables: [
                                'Sistema multi-tenant funcional (isolamento de dados)',
                                'Dashboard principal do consultor',
                                'Gest√£o de empresas (CRUD completo)',
                                'Gest√£o de usu√°rios e permiss√µes (4 n√≠veis)',
                                'Onboarding de novos clientes',
                                'Seletor de empresa (troca com 1 clique)',
                                'Sidebar e navega√ß√£o responsiva',
                                'Notifica√ß√µes em tempo real (WebSocket)',
                                'Tema claro/escuro'
                            ],
                            techStack: ['React', 'Tailwind CSS', 'shadcn/ui', 'Zustand', 'Socket.io']
                        },
                        {
                            id: 3,
                            name: 'Sprint 5-6: Gest√£o de Riscos',
                            weeks: 'Semanas 9-12',
                            deliverables: [
                                'Matriz de riscos visual (3 tipos: inerente, residual, objetivo)',
                                'CRUD de riscos com scoring autom√°tico',
                                'Categoriza√ß√£o e tags',
                                'Controles vinculados a riscos',
                                'Indicadores de risco (KRIs)',
                                'Heat maps interativos',
                                'Hist√≥rico de altera√ß√µes',
                                'Exporta√ß√£o de matriz (PDF/Excel)',
                                'Alertas autom√°ticos para riscos cr√≠ticos'
                            ],
                            techStack: ['Recharts', 'React Hook Form', 'Zod', 'TanStack Table']
                        },
                        {
                            id: 4,
                            name: 'Sprint 7-8: Documentos & Deploy MVP',
                            weeks: 'Semanas 13-16',
                            deliverables: [
                                'Reposit√≥rio de documentos (upload/download)',
                                'Versionamento de documentos',
                                'Categoriza√ß√£o e busca avan√ßada',
                                'Pr√©via de PDFs inline',
                                'Alertas de vencimento',
                                'Dashboard consolidado finalizado',
                                'Testes automatizados (unit + integration)',
                                'Deploy em produ√ß√£o',
                                'Documenta√ß√£o de APIs',
                                'Manual do usu√°rio (primeira vers√£o)',
                                'Treinamento de 3-5 consultores beta'
                            ],
                            techStack: ['AWS S3', 'CloudFront CDN', 'PDF.js', 'Jest', 'Cypress']
                        }
                    ],
                    finalDeliverables: [
                        'Sistema funcional em produ√ß√£o',
                        'Dashboard multi-tenant completo',
                        'Gest√£o de empresas e usu√°rios',
                        'Gest√£o de riscos com matriz',
                        'Reposit√≥rio de documentos',
                        '3-5 clientes beta testando'
                    ]
                },
                {
                    id: 2,
                    name: 'FASE 2 - Crescimento',
                    duration: '4 meses (16 semanas)',
                    objective: 'Adicionar features avan√ßadas e automa√ß√£o',
                    color: 'purple',
                    sprints: [
                        {
                            id: 5,
                            name: 'Sprint 9-10: Planos de A√ß√£o',
                            weeks: 'Semanas 17-20',
                            deliverables: [
                                'Planos de a√ß√£o vinculados a riscos',
                                'Gest√£o de tarefas (Kanban board)',
                                'Atribui√ß√£o de respons√°veis',
                                'Prazos e status tracking',
                                'Notifica√ß√µes autom√°ticas',
                                'Progresso visual (% conclus√£o)',
                                'Coment√°rios e anexos',
                                'Hist√≥rico completo'
                            ],
                            techStack: ['React DnD', 'Nodemailer', 'Bull Queue']
                        },
                        {
                            id: 6,
                            name: 'Sprint 11-12: Canal de Den√∫ncias',
                            weeks: 'Semanas 21-24',
                            deliverables: [
                                'Formul√°rio p√∫blico an√¥nimo',
                                'Sistema de protocolo √∫nico',
                                'IA para categoriza√ß√£o (OpenAI)',
                                'An√°lise de sentimento',
                                'Workflow de investiga√ß√£o',
                                'SLA tracking',
                                'Comunica√ß√£o segura',
                                'Painel de gest√£o',
                                'Relat√≥rios',
                                'Compliance Lei 13.608/2018'
                            ],
                            techStack: ['OpenAI API', 'Crypto-js', 'React Flow']
                        },
                        {
                            id: 7,
                            name: 'Sprint 13-14: Dilig√™ncias',
                            weeks: 'Semanas 25-28',
                            deliverables: [
                                'Dilig√™ncia PJ e PF',
                                'Scoring autom√°tico (0-100)',
                                'Consultas automatizadas',
                                'Verifica√ß√£o PEP',
                                'Listas restritivas',
                                'An√°lise de not√≠cias',
                                'Relat√≥rio autom√°tico',
                                'Monitoramento cont√≠nuo'
                            ],
                            techStack: ['Puppeteer', 'APIs Gov', 'PDF-lib']
                        },
                        {
                            id: 8,
                            name: 'Sprint 15-16: Assinatura Digital',
                            weeks: 'Semanas 29-32',
                            deliverables: [
                                'Integra√ß√£o ClickSign/DocuSign',
                                'Workflow aprova√ß√µes',
                                'Assinatura inline',
                                'Certifica√ß√£o digital',
                                'Formul√°rios p√∫blicos',
                                'Requisi√ß√µes e aprova√ß√µes'
                            ],
                            techStack: ['ClickSign API', 'React PDF', 'Formik']
                        }
                    ],
                    finalDeliverables: [
                        'Planos de a√ß√£o completos',
                        'Canal de den√∫ncias com IA',
                        'Dilig√™ncias automatizadas',
                        'Assinatura digital',
                        'Formul√°rios p√∫blicos',
                        'Sistema escal√°vel'
                    ]
                },
                {
                    id: 3,
                    name: 'FASE 3 - Consolida√ß√£o',
                    duration: '4 meses (16 semanas)',
                    objective: 'Features premium e integra√ß√µes regulat√≥rias',
                    color: 'green',
                    sprints: [
                        {
                            id: 9,
                            name: 'Sprint 17-18: Universidade',
                            weeks: 'Semanas 33-36',
                            deliverables: [
                                'Biblioteca de cursos',
                                'Upload de v√≠deos (Vimeo)',
                                'M√≥dulos e trilhas',
                                'Quiz de avalia√ß√£o',
                                'Controle de progresso',
                                'Certificados PDF',
                                'Material complementar',
                                'Relat√≥rios de conclus√£o'
                            ],
                            techStack: ['Vimeo API', 'React Player', 'Chart.js']
                        },
                        {
                            id: 10,
                            name: 'Sprint 19-20: Integra√ß√µes Regulat√≥rias',
                            weeks: 'Semanas 37-40',
                            deliverables: [
                                'Integra√ß√£o Bacen (SCR)',
                                'Integra√ß√£o COAF',
                                'Integra√ß√£o ANS',
                                'Envio autom√°tico',
                                'Logs de transmiss√µes',
                                'Valida√ß√£o pr√©-envio',
                                'Retry autom√°tico',
                                'Hist√≥rico completo'
                            ],
                            techStack: ['SOAP/REST APIs', 'XML', 'Cron']
                        },
                        {
                            id: 11,
                            name: 'Sprint 21-22: Analytics & Tempo',
                            weeks: 'Semanas 41-44',
                            deliverables: [
                                'KPIs avan√ßados + IA',
                                'Relat√≥rios comparativos',
                                'Benchmarking setorial',
                                '√çndice de maturidade',
                                'Gest√£o de tempo',
                                'Timesheet integrado',
                                'Controle de produtividade',
                                'C√°lculo de faturamento'
                            ],
                            techStack: ['TensorFlow.js', 'ECharts', 'D3.js']
                        },
                        {
                            id: 12,
                            name: 'Sprint 23-24: Lan√ßamento',
                            weeks: 'Semanas 45-48',
                            deliverables: [
                                'Otimiza√ß√£o performance',
                                'Testes de carga',
                                'Auditoria seguran√ßa',
                                'Logs e auditoria',
                                'Relat√≥rios customizados',
                                'N√£o conformidades',
                                'App mobile PWA',
                                'Lan√ßamento oficial'
                            ],
                            techStack: ['Lighthouse CI', 'K6', 'PWA']
                        }
                    ],
                    finalDeliverables: [
                        'Universidade completa',
                        'Integra√ß√µes Bacen/COAF/ANS',
                        'Analytics avan√ßados',
                        'Gest√£o de tempo',
                        'App mobile PWA',
                        'Sistema 100% completo'
                    ]
                }
            ];

            const selectedProposalData = proposals.find(p => p.id === selectedProposal);

            const handleSelectProposal = (proposalId) => {
                setSelectedProposal(proposalId);
                setCurrentView('roadmap');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const ProposalsView = () => (
                <div className="space-y-8">
                    {/* Header */}
                    <div className="bg-white rounded-2xl shadow-xl p-8">
                        <div className="flex items-center justify-between mb-4">
                            <div>
                                <h1 className="text-4xl font-bold text-slate-800 mb-2">EasyCompliance</h1>
                                <p className="text-xl text-slate-600">Proposta de Parceria Societ√°ria</p>
                            </div>
                            <button
                                onClick={handleExportPDF}
                                disabled={isExporting}
                                className={`flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${
                                    isExporting
                                        ? 'bg-gray-400 cursor-not-allowed'
                                        : 'bg-blue-600 hover:bg-blue-700'
                                } text-white`}
                            >
                                <Icon name={isExporting ? "loader" : "download"} className={`w-5 h-5 ${isExporting ? 'animate-spin' : ''}`} />
                                {isExporting ? 'Gerando PDF...' : 'Exportar PDF'}
                            </button>
                        </div>

                        <div className="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4 mt-6">
                            <p className="text-slate-700">
                                <strong>Prezado Consultor,</strong> preparei tr√™s estruturas de parceria para sua an√°lise.
                                <strong className="text-blue-700"> Minha recomenda√ß√£o √© a Proposta 3 (Ponto de Equil√≠brio)</strong> - parceria 60/40.
                                Selecione uma proposta para ver o roadmap de desenvolvimento detalhado.
                            </p>
                        </div>
                    </div>

                    {/* Estrutura de Parceria */}
                    <div className="bg-gradient-to-r from-purple-600 to-indigo-700 rounded-2xl shadow-xl p-8 text-white">
                        <h2 className="text-3xl font-bold mb-6">ü§ù Estrutura de Parceria</h2>

                        <div className="bg-white/10 backdrop-blur rounded-xl p-6 mb-6">
                            <p className="text-lg mb-4">
                                Esta √© uma <strong>parceria entre cofundadores</strong>, n√£o uma rela√ß√£o empregador-empregado.
                                Somos s√≥cios com pap√©is complementares e equity proporcional ao risco assumido:
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div className="bg-white/10 backdrop-blur rounded-xl p-6">
                                <h3 className="text-2xl font-bold mb-4">üëî Voc√™ - CEO</h3>
                                <ul className="space-y-2 text-blue-100">
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span><strong>Dono da ideia e vis√£o</strong></span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span>Estrat√©gia e direcionamento</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span>Vendas e relacionamento com clientes</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span><strong>Network e lideran√ßa</strong></span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span><strong>Investimento financeiro</strong></span>
                                    </li>
                                </ul>
                            </div>

                            <div className="bg-white/10 backdrop-blur rounded-xl p-6">
                                <h3 className="text-2xl font-bold mb-4">üíª Desenvolvedor - CTO</h3>
                                <ul className="space-y-2 text-purple-100">
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span><strong>Execu√ß√£o t√©cnica completa</strong></span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span>Arquitetura e infraestrutura</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span>Seguran√ßa e compliance t√©cnico</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span>Gest√£o de produto (Product Owner)</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <Icon name="check-circle" className="w-5 h-5 flex-shrink-0 mt-0.5" />
                                        <span><strong>Investimento em trabalho (valor R$ 155k)</strong></span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div className="mt-6 bg-yellow-500/20 backdrop-blur rounded-xl p-6 border-2 border-yellow-400">
                            <p className="text-lg">
                                <strong>üí° Importante:</strong> O valor de mercado para este desenvolvimento √© <strong>R$ 155.000</strong>.
                                Com sua parceria, o CTO oferece desconto de 50-75% em troca de equity proporcional ao risco assumido.
                            </p>
                        </div>
                    </div>

                    {/* Proposta Cards */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        {proposals.map((proposal) => (
                            <div
                                key={proposal.id}
                                className={`bg-white rounded-2xl shadow-lg p-6 transition-all ${
                                    proposal.recommended ? 'border-4 border-green-500' : ''
                                }`}
                            >
                                {proposal.recommended && (
                                    <div className="flex items-center gap-2 mb-3 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold w-fit">
                                        <Icon name="star" className="w-4 h-4" />
                                        RECOMENDADA
                                    </div>
                                )}

                                <h3 className="text-2xl font-bold text-slate-800 mb-2">{proposal.name}</h3>
                                <div className="text-4xl font-bold text-blue-600 mb-4">{proposal.investment}</div>

                                <div className="space-y-3 mb-4">
                                    <div className="flex justify-between items-center p-3 bg-slate-50 rounded-lg">
                                        <span className="text-slate-600 font-medium">Voc√™ (CEO)</span>
                                        <span className="text-2xl font-bold text-slate-800">{proposal.equityConsultant}</span>
                                    </div>
                                    <div className="flex justify-between items-center p-3 bg-slate-50 rounded-lg">
                                        <span className="text-slate-600 font-medium">CTO</span>
                                        <span className="text-2xl font-bold text-slate-800">{proposal.equityDev}</span>
                                    </div>
                                </div>

                                <div className="bg-blue-50 rounded-xl p-4 mb-4 border border-blue-200">
                                    <h4 className="font-bold text-slate-800 mb-3 text-sm flex items-center gap-2">
                                        <Icon name="dollar-sign" className="w-4 h-4 text-blue-600" />
                                        Cronograma de Investimento
                                    </h4>
                                    <div className="space-y-2">
                                        <div className="flex justify-between items-center text-sm">
                                            <span className="text-slate-600">Fase 1 (MVP):</span>
                                            <span className="font-bold text-slate-800">{proposal.phase1}</span>
                                        </div>
                                        <div className="flex justify-between items-center text-sm">
                                            <span className="text-slate-600">Fase 2 (Crescimento):</span>
                                            <span className="font-bold text-slate-800">{proposal.phase2}</span>
                                        </div>
                                        <div className="flex justify-between items-center text-sm">
                                            <span className="text-slate-600">Fase 3 (Consolida√ß√£o):</span>
                                            <span className="font-bold text-slate-800">{proposal.phase3}</span>
                                        </div>
                                        <div className="border-t border-blue-300 pt-2 mt-2">
                                            <div className="flex justify-between items-center">
                                                <span className="text-slate-700 font-medium">Total 12 meses:</span>
                                                <span className="font-bold text-blue-700">{proposal.investment}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="grid grid-cols-2 gap-3 text-sm mb-4">
                                    <div className="bg-purple-50 p-3 rounded-lg border border-purple-200">
                                        <div className="text-slate-600 text-xs">Parcela M√©dia</div>
                                        <div className="font-bold text-slate-800">{proposal.monthlyAvg}</div>
                                        <div className="text-xs text-slate-500 mt-1">por m√™s</div>
                                    </div>
                                    <div className="bg-orange-50 p-3 rounded-lg border border-orange-200">
                                        <div className="text-slate-600 text-xs">Entrada</div>
                                        <div className="font-bold text-slate-800">{proposal.downPayment}</div>
                                        <div className="text-xs text-slate-500 mt-1">inicial</div>
                                    </div>
                                </div>

                                {/* ROI e Upside */}
                                <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 mb-4 border border-green-200">
                                    <h4 className="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                        <Icon name="trending-up" className="w-4 h-4 text-green-600" />
                                        Seu Retorno (3 anos)
                                    </h4>
                                    <div className="space-y-2">
                                        <div className="flex justify-between items-center">
                                            <span className="text-sm text-slate-600">Valor participa√ß√£o:</span>
                                            <span className="text-xl font-bold text-green-700">{proposal.upsideConsultant}</span>
                                        </div>
                                        <div className="flex justify-between items-center">
                                            <span className="text-xs text-slate-600">Investimento:</span>
                                            <span className="text-sm font-medium text-slate-700">{proposal.investment}</span>
                                        </div>
                                        <div className="flex justify-between items-center border-t border-green-300 pt-2">
                                            <span className="text-sm font-medium text-slate-700">ROI:</span>
                                            <span className="text-lg font-bold text-green-600">
                                                {Math.round((parseFloat(proposal.upsideConsultant.replace(/[^\d]/g, '')) / proposal.investmentNum))}x
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <button
                                    onClick={() => handleSelectProposal(proposal.id)}
                                    className="w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2"
                                >
                                    Ver Roadmap Completo
                                    <Icon name="arrow-right" className="w-4 h-4" />
                                </button>
                            </div>
                        ))}
                    </div>

                    {/* Compara√ß√£o Detalhada */}
                    <div className="bg-white rounded-2xl shadow-xl p-8 mb-8">
                        <h2 className="text-3xl font-bold text-slate-800 mb-6">üìä Compara√ß√£o Detalhada de Investimento</h2>

                        <div className="overflow-x-auto">
                            <table className="w-full">
                                <thead>
                                    <tr className="border-b-2 border-slate-200">
                                        <th className="text-left py-3 px-4 text-slate-600 font-semibold">Crit√©rio</th>
                                        <th className="text-center py-3 px-4 text-blue-700 font-semibold">Proposta 1</th>
                                        <th className="text-center py-3 px-4 text-green-700 font-semibold bg-green-50">
                                            Proposta 3 ‚≠ê
                                        </th>
                                        <th className="text-center py-3 px-4 text-purple-700 font-semibold">Proposta 2</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Investimento Total</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 85.000</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-medium">R$ 60.000</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 40.000</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-blue-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Fase 1 - MVP (4 meses)</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 25.000</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-medium">R$ 20.000</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 15.000</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-blue-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Fase 2 - Crescimento (4 meses)</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 32.500</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-medium">R$ 22.500</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 15.000</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-blue-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Fase 3 - Consolida√ß√£o (4 meses)</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 27.500</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-medium">R$ 17.500</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 10.000</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Entrada Inicial</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 7.500</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-medium">R$ 6.000</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 5.000</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Parcela M√©dia Mensal</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 7.083</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-medium">R$ 5.000</td>
                                        <td className="py-3 px-4 text-center text-slate-800">R$ 3.333</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-yellow-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Sua Equity (CEO)</td>
                                        <td className="py-3 px-4 text-center text-slate-800 font-bold">78%</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-bold">60%</td>
                                        <td className="py-3 px-4 text-center text-slate-800 font-bold">55%</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-yellow-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Equity CTO</td>
                                        <td className="py-3 px-4 text-center text-slate-800 font-bold">22%</td>
                                        <td className="py-3 px-4 text-center text-slate-800 bg-green-50 font-bold">40%</td>
                                        <td className="py-3 px-4 text-center text-slate-800 font-bold">45%</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-green-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Valor Participa√ß√£o (3 anos)*</td>
                                        <td className="py-3 px-4 text-center text-green-700 font-bold">R$ 14.04M</td>
                                        <td className="py-3 px-4 text-center text-green-700 bg-green-100 font-bold">R$ 10.80M</td>
                                        <td className="py-3 px-4 text-center text-green-700 font-bold">R$ 9.90M</td>
                                    </tr>
                                    <tr className="border-b border-slate-100 hover:bg-slate-50 bg-green-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">ROI (Retorno sobre Investimento)</td>
                                        <td className="py-3 px-4 text-center text-green-700 font-bold">165x</td>
                                        <td className="py-3 px-4 text-center text-green-700 bg-green-100 font-bold">180x</td>
                                        <td className="py-3 px-4 text-center text-green-700 font-bold">248x</td>
                                    </tr>
                                    <tr className="hover:bg-slate-50">
                                        <td className="py-3 px-4 font-medium text-slate-700">Economia vs Mercado</td>
                                        <td className="py-3 px-4 text-center text-blue-600 font-medium">R$ 70k (45%)</td>
                                        <td className="py-3 px-4 text-center text-blue-600 bg-green-50 font-bold">R$ 95k (61%)</td>
                                        <td className="py-3 px-4 text-center text-blue-600 font-medium">R$ 115k (74%)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div className="mt-6 bg-blue-50 rounded-lg p-4 border border-blue-200">
                            <p className="text-sm text-slate-700">
                                <strong>*Proje√ß√£o:</strong> Baseada em valuation de R$ 18M em 3 anos (10x ARR de R$ 1.8M).
                                <strong className="text-blue-700"> Valor de Mercado do desenvolvimento:</strong> R$ 155.000
                                (valor reduzido considerando parceria).
                            </p>
                        </div>
                    </div>

                    {/* O que N√ÉO est√° inclu√≠do (Custos Adicionais) */}
                    <div className="bg-white rounded-2xl shadow-xl p-8 mb-8">
                        <h2 className="text-3xl font-bold text-slate-800 mb-6">üí∞ Custos Operacionais Mensais (N√ÉO inclu√≠dos)</h2>

                        <div className="bg-orange-50 border-l-4 border-orange-500 rounded-lg p-6 mb-6">
                            <p className="text-slate-700 mb-4">
                                <strong>Importante:</strong> Al√©m do investimento em desenvolvimento, voc√™ ter√° custos operacionais
                                mensais de infraestrutura e servi√ßos de terceiros:
                            </p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div className="bg-slate-50 rounded-xl p-6 border border-slate-200">
                                <h3 className="text-xl font-bold text-slate-800 mb-4">üåê Infraestrutura Cloud</h3>
                                <div className="space-y-3">
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">AWS/Google Cloud (base):</span>
                                        <span className="font-bold text-slate-800">R$ 500-1.500/m√™s</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">Database (PostgreSQL):</span>
                                        <span className="font-bold text-slate-800">Inclu√≠do no cloud</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">Storage (S3/GCS):</span>
                                        <span className="font-bold text-slate-800">Inclu√≠do no cloud</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">CDN (CloudFront):</span>
                                        <span className="font-bold text-slate-800">Inclu√≠do no cloud</span>
                                    </div>
                                    <div className="border-t border-slate-300 pt-3 mt-3">
                                        <div className="flex justify-between items-center">
                                            <span className="text-slate-700 font-medium">Estimativa Inicial:</span>
                                            <span className="text-lg font-bold text-blue-700">~R$ 800/m√™s</span>
                                        </div>
                                        <p className="text-xs text-slate-500 mt-2">* Escala conforme n√∫mero de usu√°rios</p>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-slate-50 rounded-xl p-6 border border-slate-200">
                                <h3 className="text-xl font-bold text-slate-800 mb-4">üîß Servi√ßos de Terceiros</h3>
                                <div className="space-y-3">
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">ClickSign (assinatura digital):</span>
                                        <span className="font-bold text-slate-800">R$ 200-500/m√™s</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">Vimeo (hospedagem v√≠deos):</span>
                                        <span className="font-bold text-slate-800">R$ 150-300/m√™s</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">SendGrid (emails):</span>
                                        <span className="font-bold text-slate-800">R$ 100-200/m√™s</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">Sentry (monitoramento):</span>
                                        <span className="font-bold text-slate-800">R$ 50-100/m√™s</span>
                                    </div>
                                    <div className="flex justify-between items-center">
                                        <span className="text-slate-600">OpenAI API (IA den√∫ncias):</span>
                                        <span className="font-bold text-slate-800">R$ 50-150/m√™s</span>
                                    </div>
                                    <div className="border-t border-slate-300 pt-3 mt-3">
                                        <div className="flex justify-between items-center">
                                            <span className="text-slate-700 font-medium">Estimativa Inicial:</span>
                                            <span className="text-lg font-bold text-purple-700">~R$ 600/m√™s</span>
                                        </div>
                                        <p className="text-xs text-slate-500 mt-2">* Varia conforme uso</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="mt-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200">
                            <div className="flex items-center justify-between">
                                <div>
                                    <h3 className="text-xl font-bold text-slate-800 mb-2">üíµ Custo Operacional Mensal Total</h3>
                                    <p className="text-sm text-slate-600">Infraestrutura + Servi√ßos de Terceiros</p>
                                </div>
                                <div className="text-right">
                                    <div className="text-4xl font-bold text-blue-700">~R$ 1.400</div>
                                    <div className="text-sm text-slate-600">por m√™s (inicial)</div>
                                </div>
                            </div>
                            <div className="mt-4 bg-white rounded-lg p-4">
                                <p className="text-sm text-slate-700">
                                    <strong>üí° Importante:</strong> Estes custos s√£o pagos diretamente aos fornecedores (AWS, ClickSign, etc),
                                    n√£o fazem parte do investimento de desenvolvimento. Come√ßam a partir do m√™s 4 (deploy do MVP) e
                                    <strong className="text-blue-700"> escalam conforme o crescimento da base de clientes</strong>.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const RoadmapView = () => (
                <div className="space-y-8">
                    <div className="bg-white rounded-2xl shadow-xl p-8">
                        <div className="flex items-center justify-between mb-6">
                            <button
                                onClick={() => setCurrentView('proposals')}
                                className="flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium"
                            >
                                <Icon name="arrow-left" className="w-5 h-5" />
                                Voltar para Propostas
                            </button>
                            <button
                                onClick={handleExportPDF}
                                disabled={isExporting}
                                className={`flex items-center gap-2 px-6 py-3 rounded-lg transition-colors ${
                                    isExporting
                                        ? 'bg-gray-400 cursor-not-allowed'
                                        : 'bg-green-600 hover:bg-green-700'
                                } text-white`}
                            >
                                <Icon name={isExporting ? "loader" : "download"} className={`w-5 h-5 ${isExporting ? 'animate-spin' : ''}`} />
                                {isExporting ? 'Gerando PDF...' : 'Exportar Roadmap PDF'}
                            </button>
                        </div>

                        <div className="flex items-center gap-4 mb-4">
                            <div className="bg-blue-600 p-3 rounded-xl">
                                <Icon name="code" className="w-8 h-8 text-white" />
                            </div>
                            <div className="flex-1">
                                <h1 className="text-4xl font-bold text-slate-800">Roadmap de Desenvolvimento</h1>
                                <p className="text-xl text-slate-600">Proposta Selecionada: {selectedProposalData.name}</p>
                            </div>
                        </div>

                        <div className="bg-green-50 border-l-4 border-green-600 rounded-lg p-4">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-slate-700 font-medium">
                                        Investimento Total: <span className="text-2xl font-bold text-green-700">{selectedProposalData.investment}</span>
                                    </p>
                                    <p className="text-sm text-slate-600 mt-1">
                                        Equity: Voc√™ {selectedProposalData.equityConsultant} | CTO {selectedProposalData.equityDev}
                                    </p>
                                </div>
                                <div className="text-right">
                                    <p className="text-sm text-slate-600">Parcela M√©dia</p>
                                    <p className="text-xl font-bold text-slate-800">{selectedProposalData.monthlyAvg}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {phases.map((phase) => (
                        <div key={phase.id} className="bg-white rounded-2xl shadow-xl p-8">
                            <div className="flex items-center justify-between mb-6">
                                <div className="flex items-center gap-4">
                                    <div className={`bg-${phase.color}-600 p-3 rounded-xl text-white`}>
                                        <Icon name="rocket" className="w-6 h-6" />
                                    </div>
                                    <div>
                                        <h2 className="text-3xl font-bold text-slate-800">{phase.name}</h2>
                                        <p className="text-slate-600">{phase.objective}</p>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <div className="text-sm text-slate-500">Investimento</div>
                                    <div className="text-3xl font-bold text-green-600">
                                        {phase.id === 1 ? selectedProposalData.phase1 :
                                         phase.id === 2 ? selectedProposalData.phase2 :
                                         selectedProposalData.phase3}
                                    </div>
                                </div>
                            </div>

                            <div className="space-y-4">
                                {phase.sprints.map((sprint) => (
                                    <div key={sprint.id} className="border border-slate-200 rounded-xl overflow-hidden">
                                        <div
                                            onClick={() => setExpandedSprint(expandedSprint === sprint.id ? null : sprint.id)}
                                            className="bg-slate-50 p-4 cursor-pointer hover:bg-slate-100 transition-colors"
                                        >
                                            <div className="flex items-center justify-between">
                                                <div className="flex items-center gap-4 flex-1">
                                                    <div className="w-10 h-10 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center">
                                                        <Icon name="git-branch" className="w-5 h-5" />
                                                    </div>

                                                    <div className="flex-1">
                                                        <h3 className="text-lg font-bold text-slate-800">{sprint.name}</h3>
                                                        <p className="text-sm text-slate-600">{sprint.weeks}</p>
                                                    </div>

                                                    <div className="flex items-center gap-2">
                                                        <span className="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">
                                                            {sprint.deliverables.length} entregas
                                                        </span>
                                                        {expandedSprint === sprint.id ?
                                                            <Icon name="chevron-down" className="w-5 h-5 text-slate-400" /> :
                                                            <Icon name="chevron-right" className="w-5 h-5 text-slate-400" />
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        {expandedSprint === sprint.id && (
                                            <div className="p-6 bg-white">
                                                <div className="mb-6">
                                                    <h4 className="text-sm font-bold text-slate-600 mb-3 flex items-center gap-2">
                                                        <Icon name="check-circle" className="w-4 h-4" />
                                                        Entregas ({sprint.deliverables.length})
                                                    </h4>
                                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-2">
                                                        {sprint.deliverables.map((item, idx) => (
                                                            <div key={idx} className="flex items-start gap-2 p-2 bg-slate-50 rounded-lg">
                                                                <Icon name="check-circle" className="w-4 h-4 text-green-500 flex-shrink-0 mt-0.5" />
                                                                <span className="text-sm text-slate-700">{item}</span>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>

                                                <div>
                                                    <h4 className="text-sm font-bold text-slate-600 mb-3 flex items-center gap-2">
                                                        <Icon name="code" className="w-4 h-4" />
                                                        Stack Tecnol√≥gica
                                                    </h4>
                                                    <div className="flex flex-wrap gap-2">
                                                        {sprint.techStack.map((tech, idx) => (
                                                            <span key={idx} className="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium">
                                                                {tech}
                                                            </span>
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        </div>
                    ))}
                </div>
            );

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8">
                    <div className="max-w-7xl mx-auto mb-6">
                        <div className="bg-white rounded-xl shadow-md p-2 flex gap-2">
                            <button
                                onClick={() => setCurrentView('proposals')}
                                className={`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${
                                    currentView === 'proposals'
                                        ? 'bg-blue-600 text-white shadow-md'
                                        : 'text-slate-600 hover:bg-slate-100'
                                }`}
                            >
                                <Icon name="home" className="w-5 h-5" />
                                Propostas
                            </button>
                            <button
                                onClick={() => setCurrentView('roadmap')}
                                className={`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${
                                    currentView === 'roadmap'
                                        ? 'bg-blue-600 text-white shadow-md'
                                        : 'text-slate-600 hover:bg-slate-100'
                                }`}
                            >
                                <Icon name="map" className="w-5 h-5" />
                                Roadmap
                            </button>
                        </div>
                    </div>

                    <div id="content-to-export" className="max-w-7xl mx-auto">
                        {currentView === 'proposals' ? <ProposalsView /> : <RoadmapView />}
                    </div>
                </div>
            );
        };

        // Renderizar o componente
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<IntegratedProposalRoadmap />);
    </script>
</body>
</html>
