<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Planilha de Custos MVP - EasyCompliance | Investimento de R$ 1.500/m√™s por 4 meses">
    <title>Planilha de Custos MVP - EasyCompliance</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }

        .category-card {
            transition: all 0.3s ease;
        }

        @media (min-width: 768px) {
            .category-card:hover {
                transform: translateY(-2px);
            }
        }

        .category-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .category-details.expanded {
            max-height: 3000px;
        }

        .rotate-180 {
            transform: rotate(180deg);
        }

        /* Mobile Optimizations */
        @media (max-width: 640px) {
            .text-4xl {
                font-size: 2rem !important;
            }

            .text-3xl {
                font-size: 1.5rem !important;
            }

            .text-2xl {
                font-size: 1.25rem !important;
            }

            .text-xl {
                font-size: 1.125rem !important;
            }

            /* Touch targets */
            button {
                min-height: 44px;
                min-width: 44px;
            }

            /* Prevent zoom on input focus */
            input, select, textarea {
                font-size: 16px !important;
            }
        }

        /* Better scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Loading skeleton for better UX */
        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }
            100% {
                background-position: 1000px 0;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-gray-50">

    <!-- Header -->
    <div class="bg-white shadow-sm border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-3 sm:py-4">
            <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4">
                <div class="w-full sm:w-auto">
                    <h1 class="text-2xl sm:text-3xl font-bold text-gray-900">
                        üí∞ Planilha de Custos MVP
                    </h1>
                    <p class="text-xs sm:text-sm text-gray-600 mt-1">
                        EasyCompliance - Detalhamento completo do investimento
                    </p>
                </div>
                <button
                    onclick="exportToExcel()"
                    class="w-full sm:w-auto bg-green-600 hover:bg-green-700 active:bg-green-800 text-white px-4 sm:px-6 py-3 sm:py-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 shadow-md"
                >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="text-sm sm:text-base">Exportar Excel</span>
                </button>
            </div>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-6 sm:py-8 md:py-12">

        <!-- Summary Cards -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12">
            <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl sm:rounded-2xl shadow-xl p-5 sm:p-6 text-white">
                <div class="text-xs sm:text-sm opacity-90 mb-2">Investimento Mensal</div>
                <div class="text-3xl sm:text-4xl font-black mb-1">R$ 1.500</div>
                <div class="text-xs sm:text-sm opacity-75">por m√™s</div>
            </div>

            <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl sm:rounded-2xl shadow-xl p-5 sm:p-6 text-white">
                <div class="text-xs sm:text-sm opacity-90 mb-2">Dura√ß√£o do MVP</div>
                <div class="text-3xl sm:text-4xl font-black mb-1">4 meses</div>
                <div class="text-xs sm:text-sm opacity-75">desenvolvimento intensivo</div>
            </div>

            <div class="bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl sm:rounded-2xl shadow-xl p-5 sm:p-6 text-white sm:col-span-2 md:col-span-1">
                <div class="text-xs sm:text-sm opacity-90 mb-2">Investimento Total</div>
                <div class="text-3xl sm:text-4xl font-black mb-1">R$ 6.000</div>
                <div class="text-xs sm:text-sm opacity-75">custos operacionais</div>
            </div>
        </div>

        <!-- Why R$ 1,500/month? -->
        <div class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl sm:rounded-2xl shadow-xl p-5 sm:p-6 md:p-8 text-white mb-8 sm:mb-12">
            <h2 class="text-2xl sm:text-3xl font-bold mb-3 sm:mb-4">Por que R$ 1.500 por m√™s?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                <div>
                    <h3 class="text-lg sm:text-xl font-semibold mb-2 sm:mb-3">‚úì Valor Justificado:</h3>
                    <ul class="space-y-1.5 sm:space-y-2 text-xs sm:text-sm opacity-90">
                        <li>‚Ä¢ <strong>40% em IA</strong> - Diferencial competitivo real</li>
                        <li>‚Ä¢ <strong>0% em sal√°rios</strong> - Apenas ferramentas e infraestrutura</li>
                        <li>‚Ä¢ <strong>Profissional desde o in√≠cio</strong> - N√£o teremos que reconstruir depois</li>
                        <li>‚Ä¢ <strong>Escal√°vel</strong> - Infraestrutura aguenta crescimento de 10x</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg sm:text-xl font-semibold mb-2 sm:mb-3">‚úì O que N√ÉO est√° inclu√≠do:</h3>
                    <ul class="space-y-1.5 sm:space-y-2 text-xs sm:text-sm opacity-90">
                        <li>‚Ä¢ <strong>Sal√°rios da equipe</strong> - Parceria por equity</li>
                        <li>‚Ä¢ <strong>Marketing</strong> - Investimento separado p√≥s-MVP</li>
                        <li>‚Ä¢ <strong>Escrit√≥rio f√≠sico</strong> - Trabalho remoto</li>
                        <li>‚Ä¢ <strong>Despesas operacionais</strong> - Apenas custo t√©cnico</li>
                    </ul>
                </div>
            </div>
            <div class="mt-4 sm:mt-6 bg-white/10 rounded-lg p-3 sm:p-4">
                <p class="text-xs sm:text-sm leading-relaxed">
                    <strong>Comparativo:</strong> Uma empresa tradicional gastaria R$ 25.000-35.000/m√™s em sal√°rios (2 devs + 1 designer).
                    Estamos pedindo apenas <strong>R$ 1.500/m√™s</strong> (6% do custo tradicional) porque a equipe trabalha por equity.
                </p>
            </div>
        </div>

        <!-- Categories -->
        <div class="space-y-3 sm:space-y-4" id="categories-container">
            <h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6">üìä Detalhamento por Categoria</h2>
        </div>

        <!-- Visual Chart -->
        <div class="mt-8 sm:mt-12 bg-white rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8">
            <h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6">üìà Distribui√ß√£o Visual do Or√ßamento</h2>
            <div id="chart-container"></div>
        </div>

        <!-- ROI Projection -->
        <div class="mt-8 sm:mt-12 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl sm:rounded-2xl shadow-xl p-5 sm:p-6 md:p-8 border-2 border-green-200">
            <h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4">üíé Proje√ß√£o de Retorno sobre Investimento (ROI)</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                <div>
                    <h3 class="font-semibold text-gray-900 mb-2 sm:mb-3 text-sm sm:text-base">Cen√°rio Conservador:</h3>
                    <ul class="space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-700">
                        <li>‚Ä¢ <strong>5 clientes</strong> pagando R$ 500/m√™s = R$ 2.500/m√™s</li>
                        <li>‚Ä¢ <strong>MRR:</strong> R$ 2.500</li>
                        <li>‚Ä¢ <strong>Payback:</strong> 2.4 meses ap√≥s lan√ßamento</li>
                        <li>‚Ä¢ <strong>ROI em 12 meses:</strong> 400%</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900 mb-2 sm:mb-3 text-sm sm:text-base">Cen√°rio Realista:</h3>
                    <ul class="space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-700">
                        <li>‚Ä¢ <strong>15 clientes</strong> pagando R$ 700/m√™s = R$ 10.500/m√™s</li>
                        <li>‚Ä¢ <strong>MRR:</strong> R$ 10.500</li>
                        <li>‚Ä¢ <strong>Payback:</strong> 0.6 meses (menos de 1 m√™s!)</li>
                        <li>‚Ä¢ <strong>ROI em 12 meses:</strong> 2.000%</li>
                    </ul>
                </div>
            </div>
            <div class="mt-4 sm:mt-6 bg-white rounded-lg p-3 sm:p-4">
                <p class="text-xs sm:text-sm text-gray-700 leading-relaxed">
                    <strong>Importante:</strong> O mercado de compliance no Brasil movimenta mais de R$ 2 bilh√µes/ano.
                    Com apenas 0.01% de market share, teremos R$ 200.000/m√™s em receita. O investimento de R$ 6.000
                    representa <strong>3% da receita de 1 m√™s</strong> no cen√°rio realista.
                </p>
            </div>
        </div>

    </div>

    <!-- Footer -->
    <div class="bg-gray-900 text-white py-6 sm:py-8 mt-12 sm:mt-16">
        <div class="max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 text-center">
            <p class="text-gray-400 text-xs sm:text-sm">
                ¬© 2025 EasyCompliance - Gest√£o Inteligente de Compliance | Planilha de Custos MVP
            </p>
            <p class="text-gray-500 text-xs mt-2">
                Valores atualizados e justificados para desenvolvimento de 4 meses
            </p>
        </div>
    </div>

    <script>
        // Dados das categorias
        const categories = [
            {
                id: 'ai',
                icon: 'ü§ñ',
                name: 'Ferramentas de IA',
                monthlyCost: 600,
                totalCost: 2400,
                percentage: 40,
                color: 'blue',
                priority: 'Cr√≠tico',
                description: 'A IA √© o diferencial competitivo da plataforma. Investir nisso desde o MVP garante automa√ß√£o inteligente e redu√ß√£o de custos operacionais para os clientes.',
                items: [
                    { name: 'OpenAI API (GPT-4)', cost: 350, justification: 'An√°lise autom√°tica de den√∫ncias no Canal de √âtica, categoriza√ß√£o de documentos, sugest√µes de controles de risco e assistente de compliance. √â o cora√ß√£o da automa√ß√£o inteligente.', use: 'Usado em 80% das features principais' },
                    { name: 'Claude API (Anthropic)', cost: 150, justification: 'An√°lise de documentos longos, gera√ß√£o de relat√≥rios complexos e backup do OpenAI. Garante redund√¢ncia e qualidade na an√°lise de textos extensos.', use: 'Backup e an√°lises complexas' },
                    { name: 'OpenAI Embeddings', cost: 50, justification: 'Busca sem√¢ntica de documentos e similaridade de riscos. Permite encontrar informa√ß√µes relevantes mesmo sem palavras-chave exatas.', use: 'Sistema de busca inteligente' },
                    { name: 'Hugging Face', cost: 30, justification: 'Modelos open-source para processamento de linguagem natural. Reduz depend√™ncia de APIs pagas para tarefas mais simples.', use: 'Processamento auxiliar' },
                    { name: 'Reserva t√©cnica IA', cost: 20, justification: 'Buffer para testes, experimenta√ß√£o e novos modelos. Essencial para inova√ß√£o cont√≠nua.', use: 'Testes e inova√ß√£o' }
                ]
            },
            {
                id: 'dev',
                icon: 'üîß',
                name: 'Ferramentas de Desenvolvimento',
                monthlyCost: 250,
                totalCost: 1000,
                percentage: 16.7,
                color: 'indigo',
                priority: 'Alto',
                description: 'Ferramentas profissionais aceleram o desenvolvimento em at√© 40%. O que gastamos aqui, economizamos em tempo e qualidade.',
                items: [
                    { name: 'GitHub Pro', cost: 60, justification: 'Reposit√≥rios privados ilimitados, GitHub Actions para CI/CD autom√°tico e GitHub Copilot que acelera a programa√ß√£o em 30%.', use: 'Versionamento e automa√ß√£o' },
                    { name: 'Vercel Pro', cost: 100, justification: 'Hospedagem frontend Next.js com deploy autom√°tico, preview de branches e Edge Functions. Zero configura√ß√£o de servidor.', use: 'Deploy e hospedagem frontend' },
                    { name: 'Figma Professional', cost: 60, justification: 'Design System completo, prot√≥tipos interativos e colabora√ß√£o designer/desenvolvedor em tempo real. Reduz retrabalho.', use: 'Design e prototipa√ß√£o' },
                    { name: 'Postman Team', cost: 30, justification: 'Documenta√ß√£o autom√°tica da API, testes automatizados e ambientes compartilhados. Essencial para integra√ß√£o.', use: 'Testes e documenta√ß√£o API' }
                ]
            },
            {
                id: 'cloud',
                icon: '‚òÅÔ∏è',
                name: 'Infraestrutura Cloud',
                monthlyCost: 200,
                totalCost: 800,
                percentage: 13.3,
                color: 'green',
                priority: 'Cr√≠tico',
                description: 'Infraestrutura escal√°vel e profissional desde o in√≠cio. Evita reescrita e migra√ß√£o custosa no futuro.',
                items: [
                    { name: 'Servidor Backend', cost: 80, justification: '2 vCPU, 4GB RAM para container NestJS. Suporta 100+ usu√°rios simult√¢neos. Inclui ambientes Dev + Staging.', use: 'API e l√≥gica de neg√≥cio' },
                    { name: 'Banco de Dados PostgreSQL', cost: 60, justification: 'PostgreSQL 15 com 20GB SSD e backup autom√°tico di√°rio. Compliance exige dados seguros e recuper√°veis.', use: 'Armazenamento de dados' },
                    { name: 'Cache Redis', cost: 30, justification: '1GB RAM para cache de sess√µes, rate limiting e otimiza√ß√£o de performance. Reduz carga no banco em 60%.', use: 'Performance e sess√µes' },
                    { name: 'Dom√≠nio & SSL', cost: 15, justification: 'Dom√≠nio .com.br profissional e certificado SSL (Let\'s Encrypt via Cloudflare). LGPD exige HTTPS.', use: 'Seguran√ßa e branding' },
                    { name: 'Serverless Functions', cost: 15, justification: 'Em avalia√ß√£o: Hostinger ou alternativas (AWS Lambda, Vercel Functions). Para processamento ass√≠ncrono e jobs programados. Tecnologia pode ser ajustada durante desenvolvimento conforme melhorias identificadas.', use: 'Processamento em background (a definir)' }
                ]
            },
            {
                id: 'security',
                icon: 'üîê',
                name: 'Seguran√ßa & Monitoramento',
                monthlyCost: 120,
                totalCost: 480,
                percentage: 8,
                color: 'red',
                priority: 'Cr√≠tico',
                description: 'Seguran√ßa n√£o √© opcional em compliance. LGPD exige prote√ß√£o adequada e rastreabilidade de todos os dados sens√≠veis.',
                items: [
                    { name: 'Sentry', cost: 50, justification: 'Monitoramento de erros em tempo real, performance tracking e alertas imediatos. Detecta problemas antes dos usu√°rios.', use: 'Detec√ß√£o de bugs' },
                    { name: 'LogRocket / FullStory', cost: 40, justification: 'Session replay para debugging de problemas reportados. Ver exatamente o que o usu√°rio viu quando o erro ocorreu.', use: 'Debugging avan√ßado' },
                    { name: 'Cloudflare Pro', cost: 30, justification: 'Prote√ß√£o DDoS, WAF (Web Application Firewall), rate limiting e analytics. Seguran√ßa em camadas.', use: 'Prote√ß√£o contra ataques' }
                ]
            },
            {
                id: 'communication',
                icon: 'üìß',
                name: 'Comunica√ß√£o & Email',
                monthlyCost: 80,
                totalCost: 320,
                percentage: 5.3,
                color: 'orange',
                priority: 'Alto',
                description: 'Comunica√ß√£o profissional e confi√°vel. Emails transacionais t√™m 99.9% de entrega garantida.',
                items: [
                    { name: 'SendGrid', cost: 50, justification: '40.000 emails/m√™s com templates profissionais. Confirma√ß√£o de cadastro, alertas de compliance, notifica√ß√µes de den√∫ncias.', use: 'Estimativa: 2.000 emails/m√™s (MVP)' },
                    { name: 'Twilio SMS', cost: 30, justification: '150 SMS/m√™s para autentica√ß√£o 2FA e alertas cr√≠ticos. Seguran√ßa adicional e notifica√ß√µes urgentes.', use: 'Estimativa: 50 SMS/m√™s (MVP)' }
                ]
            },
            {
                id: 'storage',
                icon: 'üì¶',
                name: 'Armazenamento & CDN',
                monthlyCost: 60,
                totalCost: 240,
                percentage: 4,
                color: 'indigo',
                priority: 'M√©dio',
                description: 'Armazenamento seguro de documentos com CDN global. Documentos carregam r√°pido em qualquer lugar do Brasil.',
                items: [
                    { name: 'AWS S3', cost: 40, justification: '100GB de armazenamento para PDFs, pol√≠ticas de compliance e evid√™ncias. Redund√¢ncia e durabilidade de 99.999999999%.', use: 'Estimativa: 1GB/m√™s (500 docs)' },
                    { name: 'CloudFront CDN', cost: 20, justification: '100GB de distribui√ß√£o global. Documentos carregam em <500ms em qualquer regi√£o do Brasil.', use: 'Entrega r√°pida de arquivos' }
                ]
            },
            {
                id: 'management',
                icon: 'üíº',
                name: 'Ferramentas de Gest√£o',
                monthlyCost: 50,
                totalCost: 200,
                percentage: 3.3,
                color: 'pink',
                priority: 'M√©dio',
                description: 'Organiza√ß√£o e produtividade. Documenta√ß√£o centralizada e gest√£o eficiente de tarefas.',
                items: [
                    { name: 'Notion Team', cost: 30, justification: 'Documenta√ß√£o do projeto, knowledge base, sprint planning e onboarding de clientes beta. Tudo em um s√≥ lugar.', use: 'Documenta√ß√£o e planejamento' },
                    { name: 'Linear', cost: 20, justification: 'Gest√£o de tarefas, bug tracking, roadmap e integra√ß√µes Git. Interface limpa e r√°pida.', use: 'Gest√£o de desenvolvimento' }
                ]
            },
            {
                id: 'buffer',
                icon: '‚ö°',
                name: 'Imprevistos & Buffer',
                monthlyCost: 140,
                totalCost: 560,
                percentage: 9.3,
                color: 'yellow',
                priority: 'Essencial',
                description: 'Todo projeto tem imprevistos. Esse buffer garante que n√£o vamos parar por falta de recursos.',
                items: [
                    { name: 'Overages de API', cost: 50, justification: 'Picos de uso de IA durante testes intensivos ou demonstra√ß√µes. Melhor ter buffer que parar o desenvolvimento.', use: 'Prote√ß√£o contra picos' },
                    { name: 'Testes com usu√°rios', cost: 30, justification: 'Incentivos para beta testers (vouchers, brindes). Feedback real de usu√°rios √© invalu√°vel.', use: '5 beta testers' },
                    { name: 'Integra√ß√µes extras', cost: 30, justification: 'APIs n√£o previstas, webhooks adicionais. Flexibilidade para adicionar integra√ß√µes importantes.', use: 'Integra√ß√µes emergentes' },
                    { name: 'Conting√™ncia t√©cnica', cost: 30, justification: 'Problemas t√©cnicos inesperados, mudan√ßas de pre√ßo de servi√ßos, migra√ß√µes necess√°rias.', use: 'Seguran√ßa do projeto' }
                ]
            }
        ];

        const colorClasses = {
            blue: { bg: 'bg-blue-50', border: 'border-blue-500', text: 'text-blue-700', badge: 'bg-blue-100 text-blue-800', barBg: 'bg-blue-500' },
            indigo: { bg: 'bg-indigo-50', border: 'border-indigo-500', text: 'text-indigo-700', badge: 'bg-indigo-100 text-indigo-800', barBg: 'bg-indigo-500' },
            green: { bg: 'bg-green-50', border: 'border-green-500', text: 'text-green-700', badge: 'bg-green-100 text-green-800', barBg: 'bg-green-500' },
            red: { bg: 'bg-red-50', border: 'border-red-500', text: 'text-red-700', badge: 'bg-red-100 text-red-800', barBg: 'bg-red-500' },
            orange: { bg: 'bg-orange-50', border: 'border-orange-500', text: 'text-orange-700', badge: 'bg-orange-100 text-orange-800', barBg: 'bg-orange-500' },
            pink: { bg: 'bg-pink-50', border: 'border-pink-500', text: 'text-pink-700', badge: 'bg-pink-100 text-pink-800', barBg: 'bg-pink-500' },
            yellow: { bg: 'bg-yellow-50', border: 'border-yellow-500', text: 'text-yellow-700', badge: 'bg-yellow-100 text-yellow-800', barBg: 'bg-yellow-500' }
        };

        let expandedCategory = null;

        function toggleCategory(id) {
            const details = document.getElementById(`details-${id}`);
            const arrow = document.getElementById(`arrow-${id}`);

            if (expandedCategory === id) {
                details.classList.remove('expanded');
                arrow.classList.remove('rotate-180');
                expandedCategory = null;
            } else {
                if (expandedCategory) {
                    const oldDetails = document.getElementById(`details-${expandedCategory}`);
                    const oldArrow = document.getElementById(`arrow-${expandedCategory}`);
                    oldDetails.classList.remove('expanded');
                    oldArrow.classList.remove('rotate-180');
                }
                details.classList.add('expanded');
                arrow.classList.add('rotate-180');
                expandedCategory = id;
            }
        }

        function renderCategories() {
            const container = document.getElementById('categories-container');

            categories.forEach(category => {
                const colors = colorClasses[category.color] || colorClasses.blue;

                const card = document.createElement('div');
                card.className = `category-card bg-white rounded-xl shadow-lg border-2 border-gray-200 overflow-hidden`;

                card.innerHTML = `
                    <div class="p-4 sm:p-5 md:p-6 cursor-pointer hover:bg-gray-50 active:bg-gray-100 transition-colors" onclick="toggleCategory('${category.id}')">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4">
                            <div class="flex items-start sm:items-center space-x-3 sm:space-x-4 flex-1 w-full">
                                <div class="text-3xl sm:text-4xl flex-shrink-0">${category.icon}</div>
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center space-x-2 sm:space-x-3 mb-1 flex-wrap gap-y-1">
                                        <h3 class="text-lg sm:text-xl font-bold text-gray-900">${category.name}</h3>
                                        <span class="px-2 sm:px-3 py-1 rounded-full text-xs font-semibold ${colors.badge}">
                                            ${category.priority}
                                        </span>
                                    </div>
                                    <p class="text-xs sm:text-sm text-gray-600 line-clamp-2 sm:line-clamp-none">${category.description}</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between sm:justify-end w-full sm:w-auto gap-3 sm:gap-4">
                                <div class="text-left sm:text-right">
                                    <div class="text-xl sm:text-2xl font-bold text-gray-900">
                                        R$ ${category.monthlyCost}
                                        <span class="text-xs sm:text-sm font-normal text-gray-500">/m√™s</span>
                                    </div>
                                    <div class="text-xs sm:text-sm text-gray-600">
                                        ${category.percentage}% do or√ßamento
                                    </div>
                                    <div class="text-xs text-gray-500 mt-1">
                                        Total: R$ ${category.totalCost.toLocaleString('pt-BR')}
                                    </div>
                                </div>
                                <div class="flex-shrink-0">
                                    <svg id="arrow-${category.id}" class="w-5 h-5 sm:w-6 sm:h-6 transition-transform text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="details-${category.id}" class="category-details ${colors.bg} border-t-2 ${colors.border}">
                        <div class="p-4 sm:p-5 md:p-6 space-y-3 sm:space-y-4">
                            ${category.items.map(item => `
                                <div class="bg-white rounded-lg p-3 sm:p-4 shadow-sm">
                                    <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3">
                                        <div class="flex-1 min-w-0">
                                            <h4 class="font-semibold text-gray-900 mb-1 text-sm sm:text-base">${item.name}</h4>
                                            <p class="text-xs sm:text-sm text-gray-700 mb-2">${item.justification}</p>
                                            <div class="inline-flex items-center px-2 sm:px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-600">
                                                <span class="mr-1">üìå</span> ${item.use}
                                            </div>
                                        </div>
                                        <div class="text-left sm:text-right flex-shrink-0 pt-2 sm:pt-0 sm:ml-4 border-t sm:border-t-0 sm:border-l sm:pl-4">
                                            <div class="text-base sm:text-lg font-bold text-gray-900">R$ ${item.cost}</div>
                                            <div class="text-xs text-gray-500">R$ ${(item.cost * 4).toLocaleString('pt-BR')} total</div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;

                container.appendChild(card);
            });
        }

        function renderChart() {
            const container = document.getElementById('chart-container');

            categories.forEach(category => {
                const colors = colorClasses[category.color] || colorClasses.blue;

                const bar = document.createElement('div');
                bar.className = 'mb-3 sm:mb-4';
                bar.innerHTML = `
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-2 mb-1">
                        <span class="font-medium text-gray-700 text-xs sm:text-sm">
                            ${category.icon} ${category.name}
                        </span>
                        <span class="font-bold text-gray-900 text-xs sm:text-sm">
                            R$ ${category.monthlyCost} (${category.percentage}%)
                        </span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3 sm:h-4 overflow-hidden">
                        <div class="${colors.barBg} h-full transition-all duration-500" style="width: ${category.percentage}%"></div>
                    </div>
                `;

                container.appendChild(bar);
            });
        }

        function exportToExcel() {
            let csvContent = '\uFEFF';

            csvContent += 'PLANILHA DE CUSTOS MVP - EASYCOMPLIANCE\n';
            csvContent += 'Per√≠odo: 4 meses\n';
            csvContent += 'Investimento Mensal: R$ 1.500\n';
            csvContent += 'Investimento Total: R$ 6.000\n\n';

            csvContent += 'RESUMO POR CATEGORIA\n';
            csvContent += 'Categoria;Mensal (R$);Total 4 Meses (R$);% Or√ßamento;Prioridade\n';

            categories.forEach(cat => {
                csvContent += `${cat.name};${cat.monthlyCost};${cat.totalCost};${cat.percentage}%;${cat.priority}\n`;
            });

            csvContent += '\n\n';

            categories.forEach(cat => {
                csvContent += `\n${cat.name.toUpperCase()}\n`;
                csvContent += `Descri√ß√£o: ${cat.description}\n`;
                csvContent += 'Item;Custo Mensal (R$);Custo Total (R$);Justificativa;Uso\n';

                cat.items.forEach(item => {
                    const justification = item.justification.replace(/;/g, ',').replace(/\n/g, ' ');
                    csvContent += `${item.name};${item.cost};${item.cost * 4};${justification};${item.use}\n`;
                });

                csvContent += `SUBTOTAL;${cat.monthlyCost};${cat.totalCost};;\n`;
                csvContent += '\n';
            });

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);

            link.setAttribute('href', url);
            link.setAttribute('download', `EasyCompliance_Custos_MVP_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';

            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderCategories();
            renderChart();
        });
    </script>
</body>
</html>
